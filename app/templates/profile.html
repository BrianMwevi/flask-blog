{% extends "base.html" %}
{% import 'macro.html' as macro %}
{% block content %}
<section class="profile form">
  <div class="container-fluid px-5">
    <div class="row">
      <div class="col-lg-8 mt-5 p-5">
        <h3 class="pb-3 custom-color-2">My Published Articles</h3>
        <div class="row">
          {{macro.display_all_articles(articles, current_user)}}
        </div>
      </div>
      <div class="col-lg-4 mx-aut mt-5 p-5">
          <h3>Profile Details</h3>
        <p><strong>Email Address: </strong><span class="badge custom-bg text-white">{{current_user.email}}</span></p>
        <p><strong>Username: </strong><span class="badge custom-bg text-white">{{current_user.username}}</span></p>
        <p><strong>Published Articles: </strong><span class="badge custom-bg text-white">{{articles|length}}</span></p>
        <p><strong>Comments: </strong><span class="badge custom-bg text-white">{{current_user.comments|length}}</span></p>
        <p><strong>Joined: </strong><span class="badge custom-bg text-white">{{current_user.joined_at.strftime('%d %b %Y')}}</span></p>
        <p><strong>Subscribers: </strong><span class="badge custom-bg text-white">{{current_user.subscribers|length}}
        </span></p>
        <form action="{{url_for('user.update', user_id=current_user.id)}}" method="POST" enctype="multipart/form-data")">
          <p><strong>Update profile picture</strong></p>
          <input type="file" name="photo" class="form-control" required>
          <button class="btn btn-outline-info btn-sm mt-3">Submit</button>
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}